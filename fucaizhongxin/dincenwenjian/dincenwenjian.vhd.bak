LIBRARY IEEE;
USE IEEE.STD_LOGIC_1164.ALL;
USE IEEE.STD_LOGIC_UNSIGNED.ALL;
use IEEE.STD_LOGIC_ARITH.ALL;

entity dincenwenjian is
port	(
	clk0 : in std_logic;
	CLEAR:IN STD_LOGIC;
	switch7 : in std_LOGIC;--开关sw7
	bt7 : in std_logic;
	bt5,bt4,bt3,bt2,bt1,bt0:in std_logic
	bt : in std_logic_vector(5 downto 0);
	s_dz: out std_logic_vector(2 downto 0);
	hang : out std_logic_vector(7 downto 0);
	cat : out std_logic_vector(4 downto 0);
	guan : out std_LOGIC_vector(6 downto 0);
	lie : out std_logic_vector(7 downto 0));
end dincenwenjian;
Architecture behave of dincenwenjian is

component fenpin1
prot(
 clk : in std_logic;
 CLEAR:IN STD_LOGIC;
 clkout1 : out std_logic;--0.05s
 clkout2 : out std_logic;--0.08s
 clkout3 : out std_logic;--0.1s
 clkout4 : out std_logic;--0.2s
 clkout5 : out std_logic;--0.3s
 clkout6 : out std_logic);--0.5s;
end component

component jianpanfangdou
prot(clk:in std_logic;--50hz
			btn7,btn5,btn4,btn3,btn2,btn1,btn0:in std_logic;
			o7,o5,o4,o3,o2,o1,o0:out std_logic);
end component

component kongzhiqi
port(clk,clk1,clk2,clk3,clk4,clk5,clk6 : IN STD_LOGIC;
			sw7 : in std_LOGIC;--开关sw7
			btn7 : in std_logic;
			btn : in std_logic_vector(5 downto 0);
			scan_dz: out std_logic_vector(2 downto 0);
			latch : out std_logic_vector(4 downto 0)--数字锁存
			);
end component

component lattice
port(clk : IN STD_LOGIC;
			--d_mode : in std_logic
			d_scan : in std_logic_vector(2 downto 0);
			d_hang : out std_logic_vector(7 downto 0);
			d_lie : out std_logic_vector(7 downto 0)
			);
end component

component shumaguan
port(clk,clk1,clk2,clk3,clk4,clk5 : IN STD_LOGIC;
			scan_number : in std_logic_vector(4 downto 0);
			--d_scan : in std_logic_vector(2 downto 0);
			d_cat : out std_logic_vector(4 downto 0);
			d_guan : out std_LOGIC_vector(6 downto 0) 
			);
end component
signal a,b,c,d,e,f,g,h,i:std_LOGIC;--存储结点
signal j:std_LOGIC_vector(5 downto 0)
begin
U1:fenpin1 port map(clk0,CLEAR,a,b,c,d,e,f);
U2:kongzhiqi port map(clk0,a,b,c,d,e,f,switch7,i,j,g,h);
U3:lattice port map(f,g,hang,lie);
U4:shumaguan port map(clk0,a,b,c,d,e,h,cat,guan);
U5:jianpanfangdou port map(clk0,bt7,bt5,bt4,bt3,bt2,bt1,bt0,i,j(5),j(4),j(3),j(2),j(1),j(0));